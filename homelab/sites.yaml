---
#---
#- name: Install Proxmoxer
#  hosts: pve2
#  gather_facts: yes
#  become: true
#  tasks:
#    - name: Install Proxmoxer
#      pip:
#        name: proxmoxer
#        state: present
#        break_system_packages: yes
#
#- name: Install LXC
#  hosts: pve2
#  gather_facts: yes
#  become: true
#  roles:
#    - name: lxc
#      vars:
#        vmid: 104
#        name: dns-server
#        template_datastore: iso_images_nfs
#        os_template: ubuntu-24.04-standard_24.04-2_amd64.tar.zst
#        ip_address: 192.168.10.4
#        cores: 1
#        memory: 1024
#        disk_size: 5
#

#- name: Download Distribution Images
#  hosts: proxmox
#  gather_facts: yes
#  become: true
#  roles:
#    - name: get_cloud_images_proxmox

#- name: Install Docker
#  hosts: dns
#  gather_facts: yes
#  become: true
#
#  vars:
#    docker_users:
#      - "{{ lookup('env', 'HOMELAB_USER')}}"
#    pip_install_packages:
#      - name: docker
#  roles:
#    - name: geerlingguy.pip
#    - name: geerlingguy.docker

# - name: Install Custom Config on systemd
#   hosts:
#     - proxmox
#   gather_facts: true
#   become: true
#   roles:
#     - name: truenas_nfs
#       vars:
#         truenas_host: '{{ lookup("env", "TRUENAS_HOST") }}'
#         truenas_auth: '{{ lookup("env", "TRUENAS_AUTH") }}'
#- import_playbook: playbooks/homepage.playbook.yaml
- import_playbook: playbooks/multipass.playbook.yaml
- import_playbook: playbooks/pihole.playbook.yaml
#- import_playbook: playbooks/nix.playbook.yaml
#- import_playbook: playbooks/traefik.playbook.yaml
#- import_playbook: playbooks/netbird.playbook.yaml
